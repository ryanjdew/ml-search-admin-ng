!function(t){try{t=angular.module("ml.searchAdmin.tpls")}catch(n){t=angular.module("ml.searchAdmin.tpls",[])}t.run(["$templateCache",function(t){t.put("/ml-search-admin/templates/constraint-form.html",'<div><div clas="col-sm-3"><label class="control-label">{{constraintPropertyName}}</label> <a class="pull-right" ng-if="type(constraintProperty) === \'array\'" ng-click="constraintProperty.push(\'\')"><i class="glyphicon glyphicon-plus-sign"></i> Add</a> <a class="pull-right" ng-if="type(constraintProperty) === \'bucket\' || type(constraintProperty) === \'computed-bucket\'" ng-click="constraintProperty.push({})"><i class="glyphicon glyphicon-plus-sign"></i> Add</a></div><div clas="col-sm-9" ng-switch="" on="type(constraintProperty)"><div class="col-sm-offset-1" ng-switch-when="object"><div ng-repeat="(key, val) in constraintProperty"><constraint-form constraint-property-name="key" constraint-property="val" constraint-object="constraintProperty"></constraint-form></div></div><div ng-switch-when="array"><div class="well" ng-repeat="val in constraintObject[constraintPropertyName] track by $index"><div class="input-group"><input class="form-control" type="text" ng-model="constraintProperty[$index]"> <a class="input-group-addon" ng-click="constraintProperty.splice($index, 1)"><i class="glyphicon glyphicon-trash"></i></a></div></div></div><div ng-switch-when="bucket"><div class="well" ng-repeat="val in constraintProperty"><div class="form-group"><label class="control-label">Name</label><div class="input-group"><input class="form-control" type="text" ng-model="val.name"> <a class="input-group-addon" ng-click="constraintProperty.splice($index, 1)"><i class="glyphicon glyphicon-trash"></i></a></div></div><div class="form-group"><label class="control-label">Label</label> <input class="form-control" type="text" ng-model="val.label"></div><div class="form-group"><label class="control-label">LT</label> <input class="form-control" type="text" ng-model="val.lt"></div><div class="form-group"><label class="control-label">GE</label> <input class="form-control" type="text" ng-model="val.ge"></div></div></div><div ng-switch-when="computed-bucket"><div class="well" ng-repeat="val in constraintProperty"><div class="form-group"><label class="control-label">Name</label><div class="input-group"><input class="form-control" type="text" ng-model="val.name"> <a class="input-group-addon" ng-click="constraintProperty.splice($index, 1)"><i class="glyphicon glyphicon-trash"></i></a></div></div><div class="form-group"><label class="control-label">Label</label> <input class="form-control" type="text" ng-model="val.label"></div><div class="form-group"><label class="control-label">LT</label> <input class="form-control" type="text" ng-model="val.lt"></div><div class="form-group"><label class="control-label">GE</label> <input class="form-control" type="text" ng-model="val.ge"></div><div class="form-group"><label class="control-label">LT Anchor</label> <input class="form-control" type="text" ng-model="val[\'lt-anchor\']"></div><div class="form-group"><label class="control-label">GE Anchor</label> <input class="form-control" type="text" ng-model="val[\'ge-anchor\']"></div></div></div><div ng-switch-when="boolean"><input class="form-control" type="checkbox" ng-model="constraintObject[constraintPropertyName]" ng-true-value="true" ng-false-value="false"></div><div ng-switch-default=""><input class="form-control" type="text" ng-model="constraintObject[constraintPropertyName]"></div></div></div>')}])}(),function(t){try{t=angular.module("ml.searchAdmin.tpls")}catch(n){t=angular.module("ml.searchAdmin.tpls",[])}t.run(["$templateCache",function(t){t.put("/ml-search-admin/templates/editConstraint.html",'<div><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span> <span class="sr-only">Close</span></button><h4 class="modal-title">Edit Range Index</h4></div><div class="modal-body"><form name="form"><div class="form-group"><label class="control-label">Type of Constraint</label><select class="form-control" name="constraintType" ng-model="constraintType" ng-options="item as item for item in constraintTypes | orderBy:item" ng-disabled="!constraintTypes || constraintTypes.length <= 1"></select></div><div class="form-group"><label class="control-label">Name</label> <input type="text" class="form-control" name="constraintName" ng-model="constraint.name"></div><div class="form-group"><label class="control-label">Annotation</label> <textarea class="form-control" name="constraintAnnotation" ng-model="constraint.annotation"></textarea></div><div ng-if="constraintType === \'range\'"><div class="form-group"><label class="control-label">Range Index</label><select class="form-control" name="selectedRangeIndex" ng-model="$parent.selectedRangeIndex" ng-options="item as item.$label for item in rangeIndexes | orderBy:$label"></select></div><div class="form-group"><label class="control-label">Range Constraint Type</label><select class="form-control" name="rangeConstraintType" ng-model="$parent.rangeConstraintType"><option value="raw">Raw</option><option value="bucket">Bucket</option><option value="computed-bucket">Computed Bucket</option></select></div></div><div class="form-group"><div ng-repeat="(key, val) in constraint[constraintType]"><constraint-form constraint-object="constraint[constraintType]" constraint-property-name="key" constraint-property="val"></constraint-form></div></div><div class="clearfix"><button type="button" class="btn btn-primary pull-right" ng-click="save()">Save</button></div></form></div></div>')}])}(),function(t){try{t=angular.module("ml.searchAdmin.tpls")}catch(n){t=angular.module("ml.searchAdmin.tpls",[])}t.run(["$templateCache",function(t){t.put("/ml-search-admin/templates/ml-constraints.html",'<div class="panel panel-default"><div class="clearfix panel-heading">Constraints <button ng-click="resampleConstraints()" class="btn btn-primary pull-right">Resample</button> <button ng-click="addConstraint()" class="btn btn-primary pull-right"><i class="glyphicon glyphicon-plus-sign"></i> Add</button></div><div class="panel-body"><table id="constraint-table" class="table"><thead><tr><th class="col-sm-4">Label</th><th class="col-sm-3">Source</th><th class="col-sm-1">Faceted</th><th class="col-sm-1"></th></tr></thead><tbody><tr ng-repeat="constraint in constraints track by $index"><td class="col-sm-4"><span class="col-sm-2 btn-group btn-group-vertical btn-group-xs"><a class="btn btn-xs btn-success" ng-click="reorderConstraint($index, $index - 1)"><span class="glyphicon glyphicon-chevron-up">&nbsp;</span></a> <a class="btn btn-xs btn-danger" ng-click="reorderConstraint($index, $index + 1)"><span class="glyphicon glyphicon-chevron-down">&nbsp;</span></a></span> <input class="col-sm-10" encoded-value="" type="text" ng-model="constraint.name"></td><td class="col-sm-3"><span ng-if="constraint.range">Range</span><span ng-if="constraint.word">Word</span><span ng-if="constraint.collection">Collection</span><span ng-if="!(constraint.collection || constraint.range || constraint.word)">Geospatial</span>: {{(constraint.range || constraint.word).field.name || (constraint.range || constraint.word).attribute.name || (constraint.range || constraint.word).element.name || (constraint.range || constraint.word)[\'json-property\'] || constraint.collection.prefix}} (<span ng-if="(constraint.range || constraint.word).attribute">attribute</span><span ng-if="(constraint.range || constraint.word).element && !(constraint.range || constraint.word).attribute">element</span><span ng-if="(constraint.range || constraint.word)[\'json-property\']">json</span><span ng-if="(constraint.range || constraint.word).field">field</span><span ng-if="constraint.collection">prefix</span>)</td><td class="col-sm-1"><input type="checkbox" ng-model="(constraint.range || constraint.word || constraint.collection).facet"></td><td class="col-sm-1"><a class="pull-right" ng-click="removeConstraint($index)"><i class="glyphicon glyphicon-trash"></i></a> <a class="pull-right" ng-click="editConstraint($index)"><i class="glyphicon glyphicon-pencil"></i></a></td></tr></tbody></table></div><div class="clearfix panel-footer"><button ng-click="submitConstraints()" class="clearfix btn btn-primary pull-right">Save</button></div></div>')}])}(),function(t){try{t=angular.module("ml.searchAdmin.tpls")}catch(n){t=angular.module("ml.searchAdmin.tpls",[])}t.run(["$templateCache",function(t){t.put("/ml-search-admin/templates/ml-sort-options.html",'<div class="panel panel-default"><div class="clearfix panel-heading">Sort Options</div><p>Requires a range index in the source database</p><div class="panel-body"><table class="table"><thead><tr><th colspan="4">Sort Options</th></tr><tr><th>Name</th><th>Sort on</th><th colspan="2">Direction</th></tr><tr><th><input type="text" ng-model="model.newSortOptionName"></th><th><select ng-model="model.newSortOptionRange" ng-options="constraint as constraint.name | decodeString for constraint in constraints | filter:{ range: {}}"></select></th><th><select ng-model="model.newSortOptionDirection"><option value="ascending">Ascending</option><option value="descending">Descending</option></select></th><th><button ng-click="addSortOption()" class="btn btn-primary pull-right"><i class="glyphicon glyphicon-plus-sign"></i> Add</button></th></tr></thead><tbody><tr ng-repeat="option in sortOptions.state track by $index"><td>{{ option.name | decodeString }}</td><td>{{option[\'sort-order\'][0].field.name || option[\'sort-order\'][ 0].attribute.name || option[\'sort-order\'][0].element.name || \'Score\'}}</td><td>{{ option[\'sort-order\'][0].direction }}</td><td class="col-sm-1"><a class="pull-right" ng-if="option.name !== \'Score\'" ng-click="removeSortOption($index)"><i class="glyphicon glyphicon-trash"></i></a></td></tr></tbody><tfooter><tr><td colspan="4"><button ng-click="saveSortOptions()" class="clearfix btn btn-primary pull-right">Save</button></td></tr></tfooter></table></div></div>')}])}(),function(t){try{t=angular.module("ml.searchAdmin.tpls")}catch(n){t=angular.module("ml.searchAdmin.tpls",[])}t.run(["$templateCache",function(t){t.put("/ml-search-admin/templates/ml-suggest-options.html",'<div class="panel panel-default"><div class="clearfix panel-heading">Suggestions</div><p>Requires a range index in the source database</p><div class="panel-body"><table class="table"><thead><tr><th colspan="2">Suggestions</th></tr></thead><tbody><tr><td>Default source:</td><td><select ng-model="model.defaultSource"><option ng-repeat="option in model.suggestOptions track by $index" value="{{option.value}}" ng-selected="{{option.selected || option.name === model.defaultSource}}">{{option.name | decodeString}}</option></select></td></tr></tbody><tfooter><tr><td colspan="2"><button ng-click="saveDefaultSource()" class="clearfix btn btn-primary pull-right">Save</button></td></tr></tfooter></table></div></div>')}])}();
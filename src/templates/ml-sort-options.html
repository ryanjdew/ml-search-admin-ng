<div class="panel panel-default">
  <div class="clearfix panel-heading">Sort Options</div>
  <p>Requires a range index in the source database</p>
  <div class="panel-body">
    <table class="table">
      <thead>
        <tr>
          <th colspan="4">Sort Options</th>
        </tr>
        <tr>
          <th>Name</th>
          <th>Sort on</th>
          <th colspan="2">Direction</th>
        </tr>
        <tr>
          <th><input type="text" ng-model="model.newSortOptionName" /></th>
          <th>
            <select ng-model="model.newSortOptionRange" ng-options="constraint as     constraint.name | decodeString for constraint in constraints | filter:{     range: {}}">
            </select>
          </th>
          <th>
            <select ng-model="model.newSortOptionDirection">
              <option value="ascending">Ascending</option>
              <option value="descending">Descending</option>
            </select>
          </th>
          <th>
            <button ng-click="addSortOption()" class="btn btn-primary pull-right"><i    class="glyphicon glyphicon-plus-sign"></i> Add</button>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="option in sortOptions.state track by $index">
          <td>{{ option.name | decodeString }}</td>
          <td>
            {{option['sort-order'][0].field.name || option['sort-order'][   0].attribute.name || option['sort-order'][0].element.name || 'Score'}}
          </td>
          <td>{{ option['sort-order'][0].direction }}</td>
          <td class="col-sm-1">
            <a class="pull-right" ng-if="option.name !== 'Score'" ng-click="    removeSortOption($index)"><i class="glyphicon glyphicon-trash"></i></a>
          </td>
        </tr>
      </tbody>
      <tfooter>
        <tr>
          <td colspan="4"><button ng-click="saveSortOptions()" class="clearfix btn    btn-primary pull-right">Save</button></td>
        </tr>
      </tfooter>
    </table>
  </div>
</div>
